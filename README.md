# 25.2 Валидаторы, пагинация и тесты. Условия домашки.

### Контекст: зачем решать подобные задачи

Когда пользователи вводят информацию, то из-за невнимательности или по незнанию могут ошибиться. Поэтому введенные данные всегда нужно валидировать. А для увеличения скорости работы пользователя необходимо дробить информацию и выводить ее по страницам. Помимо улучшений в коде, важно проверять, что код работает верно, и писать тесты.

### Критерий выполнения заданий

Результат всех заданий залили на GitHub и сдали в виде ссылки на репозиторий.

## Задание 1

Для сохранения уроков и курсов реализуйте дополнительную проверку на отсутствие в материалах ссылок на сторонние ресурсы, кроме **youtube.com**.
То есть ссылки на видео можно прикреплять в материалы, а ссылки на сторонние образовательные платформы или личные сайты — нельзя.

_Создайте отдельный файл validators.py, реализуйте валидатор, проверяющий ссылку, которую пользователь хочет записать в поле урока с помощью класса или функции.
Интегрируйте валидатор в сериализатор._

_Если вы используете функцию-валидатор — указанием валидаторов для поля сериализатора_ validators=[ваш_валидатор].

_Если вы используете класс-валидатор — указанием валидаторов в_ class Meta:

validators = [ваш_валидатор(field='поле_которое_валидируем')].

## Задание 2

Добавьте модель подписки на обновления курса для пользователя.

_Модель подписки должна содержать следующие поля: «пользователь» (FK на модель пользователя), «курс» (FK на модель курса). Можете дополнительно расширить модель при необходимости._

Вам необходимо реализовать эндпоинт для установки подписки пользователя и на удаление подписки у пользователя.

При этом при выборке данных по курсу пользователю необходимо присылать признак подписки текущего пользователя на курс. То есть давать информацию, подписан пользователь на обновления курса или нет.

## Задание 3

Реализуйте пагинацию для вывода всех уроков и курсов.

_Пагинацию реализуйте в отдельном файле paginators.py. Можно реализовать один или несколько классов пагинатора. Укажите параметры page_size, page_size_query_param, max_page_size для класса PageNumberPagination. Количество элементов на странице выберите самостоятельно. Интегрируйте пагинатор в контроллеры, используя параметр pagination_class._

## Задание 4

Напишите тесты, которые будут проверять корректность работы CRUD уроков и функционал работы подписки на обновления курса.

_В тестах используйте метод setUp для заполнения базы данных тестовыми данными. Обработайте возможные варианты взаимодействия с контроллерами пользователей с разными правами доступа. Для аутентификации пользователей используйте self.client.force_authenticate()._

Сохраните результат проверки покрытия тестами.

## * Дополнительное задание

Напишите тесты на все имеющиеся эндпоинты в проекте.